
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../requirements/">
      
      
        <link rel="next" href="../transactions-orm/">
      
      
      <link rel="icon" href="../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>Hero Microservice - Quarkus OpenShift Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-the-hero-microservice" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You are not viewing the latest version.
<a href="../..">
    <strong>Click here to go to latest.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Quarkus OpenShift Workshop" class="md-header__button md-logo" aria-label="Quarkus OpenShift Workshop" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Quarkus OpenShift Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hero Microservice
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H6v1m7-4.68V17c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-2.26C3.19 13.47 2 11.38 2 9c0-3.87 3.13-7 7-7 1.65 0 3.16.57 4.35 1.5C10.8 4.57 9 7.07 9 10c0 2.79 1.64 5.19 4 6.32m7.92-6.38-1.42-.91-1.4.97.4-1.65-1.33-1.03 1.68-.11.56-1.61.63 1.58 1.68.04-1.3 1.08.5 1.64M19.39 13c-1.89 2.27-5.36 2.19-7.17-.05C10 10.13 11.56 6 15 5.34c.34-.05.64.29.5.63-.45 1.28-.38 2.74.35 4a4.622 4.622 0 0 0 3.27 2.28c.35.05.5.49.27.75Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6a6 6 0 0 1 6 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1.8c-1.79-1.04-3-2.98-3-5.2a6 6 0 0 1 6-6m2 15v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1h4m6-10h3v2h-3v-2M1 11h3v2H1v-2M13 1v3h-2V1h2M4.92 3.5l2.13 2.14-1.42 1.41L3.5 4.93 4.92 3.5m12.03 2.13 2.12-2.13 1.43 1.43-2.13 2.12-1.42-1.42Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cescoffier/quarkus-openshift-workshop" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Quarkus OpenShift Workshop" class="md-nav__button md-logo" aria-label="Quarkus OpenShift Workshop" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    Quarkus OpenShift Workshop
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cescoffier/quarkus-openshift-workshop" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presenting the Workshop
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software requirements
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Creating a REST/HTTP microservices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Creating a REST/HTTP microservices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Hero Microservice
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Hero Microservice
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bootstrapping-the-hero-rest-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrapping the Hero Rest Endpoint
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrapping the Hero Rest Endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#red-hat-developer-hub-software-templates-and-dev-spaces-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Red Hat Developer Hub Software templates and Dev Spaces workspace.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-hero-service" class="md-nav__link">
    <span class="md-ellipsis">
      The Hero Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-jax-rs-resource" class="md-nav__link">
    <span class="md-ellipsis">
      The JAX-RS Resource
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-application" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Application
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Development Mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dev-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Dev UI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-application" class="md-nav__link">
    <span class="md-ellipsis">
      Testing the Application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing the Application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuous-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-and-running-the-application" class="md-nav__link">
    <span class="md-ellipsis">
      Packaging and Running the Application
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transactions-orm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transactions and ORM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../from-git-to-openshif/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    From Git to OpenShift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trusted-apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Red Hat Trusted Application Pipelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../open-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    One microservice is not microservices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            One microservice is not microservices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../villain-microservice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Villain microservice
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fight-microservice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intelligent Fight microservice
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Interface
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../conclusion-references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conclusion
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bootstrapping-the-hero-rest-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrapping the Hero Rest Endpoint
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrapping the Hero Rest Endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#red-hat-developer-hub-software-templates-and-dev-spaces-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Red Hat Developer Hub Software templates and Dev Spaces workspace.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-hero-service" class="md-nav__link">
    <span class="md-ellipsis">
      The Hero Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-jax-rs-resource" class="md-nav__link">
    <span class="md-ellipsis">
      The JAX-RS Resource
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-application" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Application
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Development Mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dev-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Dev UI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-application" class="md-nav__link">
    <span class="md-ellipsis">
      Testing the Application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing the Application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuous-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-and-running-the-application" class="md-nav__link">
    <span class="md-ellipsis">
      Packaging and Running the Application
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="creating-the-hero-microservice">Creating the Hero Microservice<a class="headerlink" href="#creating-the-hero-microservice" title="Permanent link"></a></h1>
<p>In the following sections, you will learn:</p>
<ul>
<li>how to create a new <em>Quarkus</em> application using <em>Red Hat Developer Hub</em>, and</li>
<li>how to implement REST API using JAX-RS, and</li>
<li>how to compose your application using CDI beans, and</li>
<li>how to access your database using Hibernate with Panache, and</li>
<li>how to use transactions, and</li>
</ul>
<h2 id="bootstrapping-the-hero-rest-endpoint">Bootstrapping the Hero Rest Endpoint<a class="headerlink" href="#bootstrapping-the-hero-rest-endpoint" title="Permanent link"></a></h2>
<h3 id="red-hat-developer-hub-software-templates-and-dev-spaces-workspace">Red Hat Developer Hub Software templates and Dev Spaces workspace.<a class="headerlink" href="#red-hat-developer-hub-software-templates-and-dev-spaces-workspace" title="Permanent link"></a></h3>
<p>To create a Dev Spaces (DS) workspace, you&rsquo;ll first need to create a <em>Software Component</em> using a <em>Red Hat Developer Hub (RHDH) Software Template</em>:</p>
<ol>
<li>Navigate to the <em>Create Option</em>: in the left-hand menu of the RHDH, click on the &ldquo;Create&rdquo; option.</li>
<li>Select the template: you&rsquo;ll see a list of available templates. Choose the <code>OpenCodeQuest - Quarkus CRUD microservice</code> template from the list.</li>
<li>Configure the workspace: after selecting the template, you&rsquo;ll need to provide the necessary values for clusters and other configurations. Most of these fields will be pre-filled by default, so you may only need to make minor adjustments if necessary.</li>
<li>Proceed with the setup: Once you&rsquo;ve reviewed the configurations, proceed to create your DS workspace.</li>
</ol>
<p>Once created, the component is available in the <em>catalog</em>.
You can access it to have an overview:</p>
<p><img alt="microservice-home-page" src="../images/microservice-home-page.png" /></p>
<p>Launch the Dev Spaces creation by clicking the link OpenShift Dev Spaces (VS Code).</p>
<h2 id="the-hero-service">The Hero Service<a class="headerlink" href="#the-hero-service" title="Permanent link"></a></h2>
<p>At the heart of the Super Hero application come <em>heroes</em>.</p>
<p>We need to expose a REST API allowing CRUD operations on <em>super heroes</em>.
This microservice is, let’s say, a <em>classical</em> microservice.
It uses HTTP to expose a REST API, and it internally stores data into a database.</p>
<p>This service will be used by the <em>fight</em> microservice.</p>
<p><img alt="hero-architecture" src="../target/rest-physical-architecture.svg" /></p>
<p>First, let’s describe our service. The Super Heroes microservice stores super-heroes, with their names, powers, and so on.
The REST API allows adding, removing, listing, and picking a random hero from the stored set.</p>
<p>Nothing outstanding but a good first step to discover Quarkus.</p>
<h2 id="directory-structure">Directory Structure<a class="headerlink" href="#directory-structure" title="Permanent link"></a></h2>
<p>Once you bootstrap the project, you get the following directory structure with a few Java classes and other artifacts:</p>
<p><img alt="hero-directory-structure" src="../target/hero-directory-structure.svg" /></p>
<p>It generates the following in the <code>hero-service</code> folder:</p>
<ul>
<li>the Maven structure with a <code>pom.xml</code></li>
<li>an <code>io.quarkus.workshop.hero.HeroResource</code> resource exposed on <code>/api/heroes</code></li>
<li>an associated unit test <code>HeroResourceTest</code></li>
<li>the landing page <code>index.html</code> that is accessible after starting the application</li>
<li>example <code>Dockerfile</code> files for both native and jvm modes in <code>src/main/docker</code></li>
<li>the <code>application.properties</code> configuration file</li>
</ul>
<p>Once generated, look at the <code>pom.xml</code>.
You will find the here import of the Quarkus BOM (<em>bill of materials</em>), allowing you to omit the version on the different Quarkus dependencies.
In addition, you can see the <code>quarkus-maven-plugin</code>, responsible for the packaging of the application and also providing the development mode support.</p>
<p>If we focus on the dependencies section, you can see the extension allowing the development of REST applications:</p>
<h2 id="the-jax-rs-resource">The JAX-RS Resource<a class="headerlink" href="#the-jax-rs-resource" title="Permanent link"></a></h2>
<p>During the project creation, the <code>HeroResource.java</code> file has been created with the following content:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">  1</a></span>
<span class="normal"><a href="#__codelineno-0-2">  2</a></span>
<span class="normal"><a href="#__codelineno-0-3">  3</a></span>
<span class="normal"><a href="#__codelineno-0-4">  4</a></span>
<span class="normal"><a href="#__codelineno-0-5">  5</a></span>
<span class="normal"><a href="#__codelineno-0-6">  6</a></span>
<span class="normal"><a href="#__codelineno-0-7">  7</a></span>
<span class="normal"><a href="#__codelineno-0-8">  8</a></span>
<span class="normal"><a href="#__codelineno-0-9">  9</a></span>
<span class="normal"><a href="#__codelineno-0-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-0-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-0-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-0-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-0-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-0-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-0-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-0-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-0-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-0-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-0-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">io.quarkus.workshop.hero</span><span class="p">;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.quarkus.logging.Log</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.smallrye.common.annotation.RunOnVirtualThread</span><span class="p">;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.transaction.Transactional</span><span class="p">;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.validation.Valid</span><span class="p">;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.DELETE</span><span class="p">;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.GET</span><span class="p">;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.POST</span><span class="p">;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.PUT</span><span class="p">;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.Path</span><span class="p">;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.Context</span><span class="p">;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.UriBuilder</span><span class="p">;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.UriInfo</span><span class="p">;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.eclipse.microprofile.openapi.annotations.media.Content</span><span class="p">;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.eclipse.microprofile.openapi.annotations.media.Schema</span><span class="p">;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.eclipse.microprofile.openapi.annotations.responses.APIResponse</span><span class="p">;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.eclipse.microprofile.openapi.annotations.Operation</span><span class="p">;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.jboss.resteasy.reactive.RestResponse</span><span class="p">;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URI</span><span class="p">;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.MediaType.APPLICATION_JSON</span><span class="p">;</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">)</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="nd">@RunOnVirtualThread</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HeroResource</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="w">    </span><span class="nd">@GET</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="w">    </span><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Hello from Quarkus REST&quot;</span><span class="p">;</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="w">    </span><span class="c1">//&lt;docHeroCrudContent&gt;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="w">    </span><span class="nd">@Operation</span><span class="p">(</span><span class="n">summary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Returns a random hero&quot;</span><span class="p">)</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="w">    </span><span class="nd">@APIResponse</span><span class="p">(</span><span class="n">responseCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;200&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@Content</span><span class="p">(</span><span class="n">mediaType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">,</span><span class="w"> </span><span class="n">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@Schema</span><span class="p">(</span><span class="n">implementation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hero</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)))</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="w">    </span><span class="nd">@GET</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="w">    </span><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/random&quot;</span><span class="p">)</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RestResponse</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getRandomHero</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">hero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hero</span><span class="p">.</span><span class="na">findRandom</span><span class="p">();</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hero</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">debugf</span><span class="p">(</span><span class="s">&quot;Found random hero: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">hero</span><span class="p">);</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">RestResponse</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">hero</span><span class="p">);</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;No random hero found&quot;</span><span class="p">);</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">RestResponse</span><span class="p">.</span><span class="na">notFound</span><span class="p">();</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="w">    </span><span class="nd">@GET</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getAllHeroes</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Hero</span><span class="p">.</span><span class="na">listAll</span><span class="p">();</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="w">    </span><span class="nd">@GET</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="w">    </span><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/{id}&quot;</span><span class="p">)</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RestResponse</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getHero</span><span class="p">(</span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">hero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hero</span><span class="p">.</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="n">findById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hero</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">RestResponse</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">hero</span><span class="p">);</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">debugf</span><span class="p">(</span><span class="s">&quot;No Hero found with id %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">RestResponse</span><span class="p">.</span><span class="na">notFound</span><span class="p">();</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="w">    </span><span class="nd">@POST</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="w">    </span><span class="nd">@Transactional</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RestResponse</span><span class="o">&lt;</span><span class="n">URI</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">createHero</span><span class="p">(</span><span class="nd">@Valid</span><span class="w"> </span><span class="n">Hero</span><span class="w"> </span><span class="n">hero</span><span class="p">,</span><span class="w"> </span><span class="nd">@Context</span><span class="w"> </span><span class="n">UriInfo</span><span class="w"> </span><span class="n">uriInfo</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">persist</span><span class="p">();</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="w">        </span><span class="n">UriBuilder</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uriInfo</span><span class="p">.</span><span class="na">getAbsolutePathBuilder</span><span class="p">().</span><span class="na">path</span><span class="p">(</span><span class="n">Long</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">hero</span><span class="p">.</span><span class="na">id</span><span class="p">));</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">debugf</span><span class="p">(</span><span class="s">&quot;New Hero created with URI %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">RestResponse</span><span class="p">.</span><span class="na">created</span><span class="p">(</span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="w">    </span><span class="nd">@PUT</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="w">    </span><span class="nd">@Transactional</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Hero</span><span class="w"> </span><span class="nf">updateHero</span><span class="p">(</span><span class="nd">@Valid</span><span class="w"> </span><span class="n">Hero</span><span class="w"> </span><span class="n">hero</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="w">        </span><span class="n">Hero</span><span class="w"> </span><span class="n">retrieved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Hero</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">hero</span><span class="p">.</span><span class="na">id</span><span class="p">);</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="w">        </span><span class="n">retrieved</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hero</span><span class="p">.</span><span class="na">name</span><span class="p">;</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="w">        </span><span class="n">retrieved</span><span class="p">.</span><span class="na">otherName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hero</span><span class="p">.</span><span class="na">otherName</span><span class="p">;</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="w">        </span><span class="n">retrieved</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hero</span><span class="p">.</span><span class="na">level</span><span class="p">;</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="w">        </span><span class="n">retrieved</span><span class="p">.</span><span class="na">picture</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hero</span><span class="p">.</span><span class="na">picture</span><span class="p">;</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="w">        </span><span class="n">retrieved</span><span class="p">.</span><span class="na">powers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hero</span><span class="p">.</span><span class="na">powers</span><span class="p">;</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">debugf</span><span class="p">(</span><span class="s">&quot;Hero updated with new valued %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">retrieved</span><span class="p">);</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">retrieved</span><span class="p">;</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="w">    </span><span class="nd">@DELETE</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="w">    </span><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/{id}&quot;</span><span class="p">)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="w">    </span><span class="nd">@Transactional</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RestResponse</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">deleteHero</span><span class="p">(</span><span class="n">Long</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Hero</span><span class="p">.</span><span class="na">deleteById</span><span class="p">(</span><span class="n">id</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="w">            </span><span class="n">Log</span><span class="p">.</span><span class="na">debugf</span><span class="p">(</span><span class="s">&quot;Hero deleted with %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">RestResponse</span><span class="p">.</span><span class="na">noContent</span><span class="p">();</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="w">    </span><span class="c1">//&lt;/docHeroCrudContent&gt;</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>It&rsquo;s a very simple REST endpoint, returning &ldquo;hello&rdquo; to HTTP GET requests to <code>/api/heroes</code>.</p>
<h2 id="running-the-application">Running the Application<a class="headerlink" href="#running-the-application" title="Permanent link"></a></h2>
<p>We are now ready to run our application.</p>
<p>You can use either the Quarkus or Apache Maven command-line interface in a Terminal.
Open a Terminal by clicking on the hamburger menu (three horizontal lines) located in the upper-left corner of the screen.
Navigate to Terminal and select New Terminal from the dropdown menu.</p>
<p>Then, run one of the following commands: </p>
<p><code>./mvnw quarkus:dev</code></p>
<p>or </p>
<p><code>quarkus dev</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w">  </span>quarkus<span class="w"> </span>dev
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Scanning<span class="w"> </span><span class="k">for</span><span class="w"> </span>projects...
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>------------------&lt;<span class="w"> </span>com.redhat.workshop:hero-service<span class="w"> </span>&gt;------------------
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Building<span class="w"> </span>hero-service<span class="w"> </span><span class="m">1</span>.0-SNAPSHOT
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w">   </span>from<span class="w"> </span>pom.xml
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>--------------------------------<span class="o">[</span><span class="w"> </span>jar<span class="w"> </span><span class="o">]</span>---------------------------------
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>---<span class="w"> </span>quarkus:3.13.2:dev<span class="w"> </span><span class="o">(</span>default-cli<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service<span class="w"> </span>---
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Invoking<span class="w"> </span>resources:3.3.1:resources<span class="w"> </span><span class="o">(</span>default-resources<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Copying<span class="w"> </span><span class="m">2</span><span class="w"> </span>resources<span class="w"> </span>from<span class="w"> </span>src/main/resources<span class="w"> </span>to<span class="w"> </span>target/classes
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Invoking<span class="w"> </span>quarkus:3.13.2:generate-code<span class="w"> </span><span class="o">(</span>default<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Invoking<span class="w"> </span>compiler:3.13.0:compile<span class="w"> </span><span class="o">(</span>default-compile<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Nothing<span class="w"> </span>to<span class="w"> </span>compile<span class="w"> </span>-<span class="w"> </span>all<span class="w"> </span>classes<span class="w"> </span>are<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date.
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Invoking<span class="w"> </span>resources:3.3.1:testResources<span class="w"> </span><span class="o">(</span>default-testResources<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>skip<span class="w"> </span>non<span class="w"> </span>existing<span class="w"> </span>resourceDirectory<span class="w"> </span>/projects/hero/src/test/resources
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Invoking<span class="w"> </span>quarkus:3.13.2:generate-code-tests<span class="w"> </span><span class="o">(</span>default<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Invoking<span class="w"> </span>compiler:3.13.0:testCompile<span class="w"> </span><span class="o">(</span>default-testCompile<span class="o">)</span><span class="w"> </span>@<span class="w"> </span>hero-service
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Nothing<span class="w"> </span>to<span class="w"> </span>compile<span class="w"> </span>-<span class="w"> </span>all<span class="w"> </span>classes<span class="w"> </span>are<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date.
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>----------------------------
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>---<span class="w"> </span>Help<span class="w"> </span>improve<span class="w"> </span>Quarkus<span class="w"> </span>---
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>----------------------------
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>*<span class="w"> </span>Learn<span class="w"> </span>more:<span class="w"> </span>https://quarkus.io/usage/
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>*<span class="w"> </span>Do<span class="w"> </span>you<span class="w"> </span>agree<span class="w"> </span>to<span class="w"> </span>contribute<span class="w"> </span>anonymous<span class="w"> </span>build<span class="w"> </span><span class="nb">time</span><span class="w"> </span>data<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>Quarkus<span class="w"> </span>community?<span class="w"> </span><span class="o">(</span>y/n<span class="w"> </span>and<span class="w"> </span>enter<span class="o">)</span><span class="w"> </span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="o">[</span>info<span class="o">]</span><span class="w"> </span><span class="o">[</span>Quarkus<span class="w"> </span>build<span class="w"> </span>analytics<span class="o">]</span><span class="w"> </span>Didn<span class="s1">&#39;t receive the user&#39;</span>s<span class="w"> </span>answer<span class="w"> </span>after<span class="w"> </span><span class="m">10</span><span class="w"> </span>seconds.<span class="w"> </span>The<span class="w"> </span>question<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>again<span class="w"> </span>next<span class="w"> </span>time.
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>Listening<span class="w"> </span><span class="k">for</span><span class="w"> </span>transport<span class="w"> </span>dt_socket<span class="w"> </span>at<span class="w"> </span>address:<span class="w"> </span><span class="m">5005</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:46,023<span class="w"> </span>INFO<span class="w">  </span><span class="o">[</span>io.qua.dat.dep.dev.DevServicesDatasourceProcessor<span class="o">]</span><span class="w"> </span><span class="o">(</span>build-21<span class="o">)</span><span class="w"> </span>Dev<span class="w"> </span>Services<span class="w"> </span><span class="k">for</span><span class="w"> </span>default<span class="w"> </span>datasource<span class="w"> </span><span class="o">(</span>postgresql<span class="o">)</span><span class="w"> </span>started<span class="w"> </span>-<span class="w"> </span>container<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>b64fe935733f
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:46,026<span class="w"> </span>INFO<span class="w">  </span><span class="o">[</span>io.qua.hib.orm.dep.dev.HibernateOrmDevServicesProcessor<span class="o">]</span><span class="w"> </span><span class="o">(</span>build-34<span class="o">)</span><span class="w"> </span>Setting<span class="w"> </span>quarkus.hibernate-orm.database.generation<span class="o">=</span>drop-and-create<span class="w"> </span>to<span class="w"> </span>initialize<span class="w"> </span>Dev<span class="w"> </span>Services<span class="w"> </span>managed<span class="w"> </span>database
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>__<span class="w">  </span>____<span class="w">  </span>__<span class="w">  </span>_____<span class="w">   </span>___<span class="w">  </span>__<span class="w"> </span>____<span class="w">  </span>______<span class="w"> </span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w"> </span>--/<span class="w"> </span>__<span class="w"> </span><span class="se">\/</span><span class="w"> </span>/<span class="w"> </span>/<span class="w"> </span>/<span class="w"> </span>_<span class="w"> </span><span class="p">|</span><span class="w"> </span>/<span class="w"> </span>_<span class="w"> </span><span class="se">\/</span><span class="w"> </span>//_/<span class="w"> </span>/<span class="w"> </span>/<span class="w"> </span>/<span class="w"> </span>__/<span class="w"> </span>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="w"> </span>-/<span class="w"> </span>/_/<span class="w"> </span>/<span class="w"> </span>/_/<span class="w"> </span>/<span class="w"> </span>__<span class="w"> </span><span class="p">|</span>/<span class="w"> </span>,<span class="w"> </span>_/<span class="w"> </span>,&lt;<span class="w"> </span>/<span class="w"> </span>/_/<span class="w"> </span>/<span class="se">\ \ </span><span class="w">  </span>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>--<span class="se">\_</span>__<span class="se">\_\_</span>___/_/<span class="w"> </span><span class="p">|</span>_/_/<span class="p">|</span>_/_/<span class="p">|</span>_<span class="p">|</span><span class="se">\_</span>___/___/<span class="w">   </span>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:46,603<span class="w"> </span>WARN<span class="w">  </span><span class="o">[</span>io.qua.config<span class="o">]</span><span class="w"> </span><span class="o">(</span>Quarkus<span class="w"> </span>Main<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>Unrecognized<span class="w"> </span>configuration<span class="w"> </span>key<span class="w"> </span><span class="s2">&quot;quarkus.smallrye-openapi.store-schema-directory&quot;</span><span class="w"> </span>was<span class="w"> </span>provided<span class="p">;</span><span class="w"> </span>it<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>ignored<span class="p">;</span><span class="w"> </span>verify<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>dependency<span class="w"> </span>extension<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>configuration<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span><span class="w"> </span>or<span class="w"> </span>that<span class="w"> </span>you<span class="w"> </span>did<span class="w"> </span>not<span class="w"> </span>make<span class="w"> </span>a<span class="w"> </span>typo
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,103<span class="w"> </span>WARN<span class="w">  </span><span class="o">[</span>org.hib.eng.jdb.spi.SqlExceptionHelper<span class="o">]</span><span class="w"> </span><span class="o">(</span>JPA<span class="w"> </span>Startup<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>SQL<span class="w"> </span>Warning<span class="w"> </span>Code:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>SQLState:<span class="w"> </span><span class="m">00000</span>
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,105<span class="w"> </span>WARN<span class="w">  </span><span class="o">[</span>org.hib.eng.jdb.spi.SqlExceptionHelper<span class="o">]</span><span class="w"> </span><span class="o">(</span>JPA<span class="w"> </span>Startup<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>table<span class="w"> </span><span class="s2">&quot;myentity&quot;</span><span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>exist,<span class="w"> </span>skipping
<a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,106<span class="w"> </span>WARN<span class="w">  </span><span class="o">[</span>org.hib.eng.jdb.spi.SqlExceptionHelper<span class="o">]</span><span class="w"> </span><span class="o">(</span>JPA<span class="w"> </span>Startup<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>SQL<span class="w"> </span>Warning<span class="w"> </span>Code:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>SQLState:<span class="w"> </span><span class="m">00000</span>
<a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,106<span class="w"> </span>WARN<span class="w">  </span><span class="o">[</span>org.hib.eng.jdb.spi.SqlExceptionHelper<span class="o">]</span><span class="w"> </span><span class="o">(</span>JPA<span class="w"> </span>Startup<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>sequence<span class="w"> </span><span class="s2">&quot;myentity_seq&quot;</span><span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>exist,<span class="w"> </span>skipping
<a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,316<span class="w"> </span>INFO<span class="w">  </span><span class="o">[</span>io.quarkus<span class="o">]</span><span class="w"> </span><span class="o">(</span>Quarkus<span class="w"> </span>Main<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>hero-service<span class="w"> </span><span class="m">1</span>.0-SNAPSHOT<span class="w"> </span>on<span class="w"> </span>JVM<span class="w"> </span><span class="o">(</span>powered<span class="w"> </span>by<span class="w"> </span>Quarkus<span class="w"> </span><span class="m">3</span>.13.2<span class="o">)</span><span class="w"> </span>started<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">7</span>.445s.<span class="w"> </span>Listening<span class="w"> </span>on:<span class="w"> </span>http://0.0.0.0:8080
<a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,317<span class="w"> </span>INFO<span class="w">  </span><span class="o">[</span>io.quarkus<span class="o">]</span><span class="w"> </span><span class="o">(</span>Quarkus<span class="w"> </span>Main<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>Profile<span class="w"> </span>dev<span class="w"> </span>activated.<span class="w"> </span>Live<span class="w"> </span>Coding<span class="w"> </span>activated.
<a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="m">2024</span>-08-28<span class="w"> </span><span class="m">11</span>:39:48,317<span class="w"> </span>INFO<span class="w">  </span><span class="o">[</span>io.quarkus<span class="o">]</span><span class="w"> </span><span class="o">(</span>Quarkus<span class="w"> </span>Main<span class="w"> </span>Thread<span class="o">)</span><span class="w"> </span>Installed<span class="w"> </span>features:<span class="w"> </span><span class="o">[</span>agroal,<span class="w"> </span>cdi,<span class="w"> </span>hibernate-orm,<span class="w"> </span>hibernate-orm-panache,<span class="w"> </span>hibernate-validator,<span class="w"> </span>jdbc-postgresql,<span class="w"> </span>micrometer,<span class="w"> </span>narayana-jta,<span class="w"> </span>rest,<span class="w"> </span>rest-jackson,<span class="w"> </span>smallrye-context-propagation,<span class="w"> </span>smallrye-health,<span class="w"> </span>vertx<span class="o">]</span>
<a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>
<a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>--
<a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>Tests<span class="w"> </span>paused
<a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>Press<span class="w"> </span><span class="o">[</span>e<span class="o">]</span><span class="w"> </span>to<span class="w"> </span>edit<span class="w"> </span><span class="nb">command</span><span class="w"> </span>line<span class="w"> </span>args<span class="w"> </span><span class="o">(</span>currently<span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>,<span class="w"> </span><span class="o">[</span>r<span class="o">]</span><span class="w"> </span>to<span class="w"> </span>resume<span class="w"> </span>testing,<span class="w"> </span><span class="o">[</span>o<span class="o">]</span><span class="w"> </span>Toggle<span class="w"> </span><span class="nb">test</span><span class="w"> </span>output,<span class="w"> </span><span class="o">[</span>:<span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>terminal,<span class="w"> </span><span class="o">[</span>h<span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>options&gt;
</code></pre></div>
<p>Then check that the endpoint returns <code>hello</code> as expected:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$<span class="w"> </span>curl<span class="w"> </span><span class="nv">$URL</span>/api/heroes
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Hello<span class="w"> </span>from<span class="w"> </span>Quarkus<span class="w"> </span>REST
</code></pre></div>
<p>where <code>$URL</code> is the running service endpoint (host + port number).</p>
<p>Alternatively, you can open <code>$URL/api/heroes</code> in your browser.</p>
<h2 id="development-mode">Development Mode<a class="headerlink" href="#development-mode" title="Permanent link"></a></h2>
<p><code>mvn quarkus:dev</code> runs Quarkus in development mode.
This enables hot deployment with background compilation, which means that when you modify your Java files and/or your resource files and invoke a REST endpoint (i.e. cUrl command or refresh your browser), these changes will automatically take effect.</p>
<p>This works as well for resource files like the configuration property and HTML files.
Refreshing the browser triggers a scan of the workspace, and if any changes are detected, the Java files are recompiled and the application is redeployed;
your request is then serviced by the redeployed application.
If there are any issues with compilation or deployment an error page will let you know.</p>
<p>The development mode also allows debugging and listens for a debugger on port 5005.</p>
<h3 id="dev-ui">Dev UI<a class="headerlink" href="#dev-ui" title="Permanent link"></a></h3>
<p>Quarkus ships with a Developer UI, which is available in dev mode at /q/dev-ui by default.
It will show you something like this:</p>
<p><img alt="dev-ui" src="../images/dev-ui.png" /></p>
<p>It allows you to:</p>
<ul>
<li>quickly visualize all the extensions currently loaded</li>
<li>view extension statuses and go directly to extension documentation</li>
<li>view and change Configuration</li>
<li>manage and visualize Continuous Testing</li>
<li>view Dev Services information</li>
<li>view the Build information</li>
<li>view and stream various logs</li>
</ul>
<p>Each extension used in the application will be listed</p>
<h2 id="testing-the-application">Testing the Application<a class="headerlink" href="#testing-the-application" title="Permanent link"></a></h2>
<p>So far so good, but wouldn&rsquo;t it be better with a few tests, just in case?</p>
<p>In the generated <code>pom.xml</code> file, you can see 2 test dependencies:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>io.quarkus<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>quarkus-junit5<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nt">&lt;/dependency&gt;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>io.rest-assured<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>rest-assured<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">    </span><span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Quarkus supports JUnit 4 and JUnit 5 tests.
In the generated project, we use JUnit 5.</p>
<p>We also set the <code>java.util.logging</code> system property to make sure tests will use the correct log manager.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&lt;plugin&gt;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>${surefire-plugin.version}<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">        </span><span class="nt">&lt;systemPropertyVariables&gt;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">            </span><span class="nt">&lt;java.util.logging.manager&gt;</span>org.jboss.logmanager.LogManager<span class="nt">&lt;/java.util.logging.manager&gt;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">            </span><span class="nt">&lt;maven.home&gt;</span>${maven.home}<span class="nt">&lt;/maven.home&gt;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">        </span><span class="nt">&lt;/systemPropertyVariables&gt;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="nt">&lt;/configuration&gt;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="nt">&lt;/plugin&gt;</span>
</code></pre></div>
<p>The generated project contains a simple test in <code>HeroResourceTest.java</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">  1</a></span>
<span class="normal"><a href="#__codelineno-5-2">  2</a></span>
<span class="normal"><a href="#__codelineno-5-3">  3</a></span>
<span class="normal"><a href="#__codelineno-5-4">  4</a></span>
<span class="normal"><a href="#__codelineno-5-5">  5</a></span>
<span class="normal"><a href="#__codelineno-5-6">  6</a></span>
<span class="normal"><a href="#__codelineno-5-7">  7</a></span>
<span class="normal"><a href="#__codelineno-5-8">  8</a></span>
<span class="normal"><a href="#__codelineno-5-9">  9</a></span>
<span class="normal"><a href="#__codelineno-5-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-5-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-5-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-5-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-5-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-5-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-5-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-5-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-5-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-5-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-5-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-5-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-5-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-5-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-5-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-5-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-5-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-5-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-5-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-5-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-5-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-5-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-5-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-5-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-5-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-5-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-5-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-5-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-5-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-5-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-5-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-5-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-5-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-5-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-5-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-5-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-5-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-5-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-5-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-5-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-5-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-5-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-5-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-5-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-5-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-5-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-5-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-5-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-5-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-5-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-5-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-5-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-5-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-5-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-5-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-5-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-5-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-5-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-5-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-5-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-5-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-5-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-5-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-5-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-5-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-5-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-5-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-5-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-5-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-5-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-5-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-5-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-5-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-5-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-5-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-5-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-5-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-5-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-5-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-5-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-5-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-5-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-5-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-5-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-5-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-5-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-5-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-5-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-5-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-5-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-5-100">100</a></span>
<span class="normal"><a href="#__codelineno-5-101">101</a></span>
<span class="normal"><a href="#__codelineno-5-102">102</a></span>
<span class="normal"><a href="#__codelineno-5-103">103</a></span>
<span class="normal"><a href="#__codelineno-5-104">104</a></span>
<span class="normal"><a href="#__codelineno-5-105">105</a></span>
<span class="normal"><a href="#__codelineno-5-106">106</a></span>
<span class="normal"><a href="#__codelineno-5-107">107</a></span>
<span class="normal"><a href="#__codelineno-5-108">108</a></span>
<span class="normal"><a href="#__codelineno-5-109">109</a></span>
<span class="normal"><a href="#__codelineno-5-110">110</a></span>
<span class="normal"><a href="#__codelineno-5-111">111</a></span>
<span class="normal"><a href="#__codelineno-5-112">112</a></span>
<span class="normal"><a href="#__codelineno-5-113">113</a></span>
<span class="normal"><a href="#__codelineno-5-114">114</a></span>
<span class="normal"><a href="#__codelineno-5-115">115</a></span>
<span class="normal"><a href="#__codelineno-5-116">116</a></span>
<span class="normal"><a href="#__codelineno-5-117">117</a></span>
<span class="normal"><a href="#__codelineno-5-118">118</a></span>
<span class="normal"><a href="#__codelineno-5-119">119</a></span>
<span class="normal"><a href="#__codelineno-5-120">120</a></span>
<span class="normal"><a href="#__codelineno-5-121">121</a></span>
<span class="normal"><a href="#__codelineno-5-122">122</a></span>
<span class="normal"><a href="#__codelineno-5-123">123</a></span>
<span class="normal"><a href="#__codelineno-5-124">124</a></span>
<span class="normal"><a href="#__codelineno-5-125">125</a></span>
<span class="normal"><a href="#__codelineno-5-126">126</a></span>
<span class="normal"><a href="#__codelineno-5-127">127</a></span>
<span class="normal"><a href="#__codelineno-5-128">128</a></span>
<span class="normal"><a href="#__codelineno-5-129">129</a></span>
<span class="normal"><a href="#__codelineno-5-130">130</a></span>
<span class="normal"><a href="#__codelineno-5-131">131</a></span>
<span class="normal"><a href="#__codelineno-5-132">132</a></span>
<span class="normal"><a href="#__codelineno-5-133">133</a></span>
<span class="normal"><a href="#__codelineno-5-134">134</a></span>
<span class="normal"><a href="#__codelineno-5-135">135</a></span>
<span class="normal"><a href="#__codelineno-5-136">136</a></span>
<span class="normal"><a href="#__codelineno-5-137">137</a></span>
<span class="normal"><a href="#__codelineno-5-138">138</a></span>
<span class="normal"><a href="#__codelineno-5-139">139</a></span>
<span class="normal"><a href="#__codelineno-5-140">140</a></span>
<span class="normal"><a href="#__codelineno-5-141">141</a></span>
<span class="normal"><a href="#__codelineno-5-142">142</a></span>
<span class="normal"><a href="#__codelineno-5-143">143</a></span>
<span class="normal"><a href="#__codelineno-5-144">144</a></span>
<span class="normal"><a href="#__codelineno-5-145">145</a></span>
<span class="normal"><a href="#__codelineno-5-146">146</a></span>
<span class="normal"><a href="#__codelineno-5-147">147</a></span>
<span class="normal"><a href="#__codelineno-5-148">148</a></span>
<span class="normal"><a href="#__codelineno-5-149">149</a></span>
<span class="normal"><a href="#__codelineno-5-150">150</a></span>
<span class="normal"><a href="#__codelineno-5-151">151</a></span>
<span class="normal"><a href="#__codelineno-5-152">152</a></span>
<span class="normal"><a href="#__codelineno-5-153">153</a></span>
<span class="normal"><a href="#__codelineno-5-154">154</a></span>
<span class="normal"><a href="#__codelineno-5-155">155</a></span>
<span class="normal"><a href="#__codelineno-5-156">156</a></span>
<span class="normal"><a href="#__codelineno-5-157">157</a></span>
<span class="normal"><a href="#__codelineno-5-158">158</a></span>
<span class="normal"><a href="#__codelineno-5-159">159</a></span>
<span class="normal"><a href="#__codelineno-5-160">160</a></span>
<span class="normal"><a href="#__codelineno-5-161">161</a></span>
<span class="normal"><a href="#__codelineno-5-162">162</a></span>
<span class="normal"><a href="#__codelineno-5-163">163</a></span>
<span class="normal"><a href="#__codelineno-5-164">164</a></span>
<span class="normal"><a href="#__codelineno-5-165">165</a></span>
<span class="normal"><a href="#__codelineno-5-166">166</a></span>
<span class="normal"><a href="#__codelineno-5-167">167</a></span>
<span class="normal"><a href="#__codelineno-5-168">168</a></span>
<span class="normal"><a href="#__codelineno-5-169">169</a></span>
<span class="normal"><a href="#__codelineno-5-170">170</a></span>
<span class="normal"><a href="#__codelineno-5-171">171</a></span>
<span class="normal"><a href="#__codelineno-5-172">172</a></span>
<span class="normal"><a href="#__codelineno-5-173">173</a></span>
<span class="normal"><a href="#__codelineno-5-174">174</a></span>
<span class="normal"><a href="#__codelineno-5-175">175</a></span>
<span class="normal"><a href="#__codelineno-5-176">176</a></span>
<span class="normal"><a href="#__codelineno-5-177">177</a></span>
<span class="normal"><a href="#__codelineno-5-178">178</a></span>
<span class="normal"><a href="#__codelineno-5-179">179</a></span>
<span class="normal"><a href="#__codelineno-5-180">180</a></span>
<span class="normal"><a href="#__codelineno-5-181">181</a></span>
<span class="normal"><a href="#__codelineno-5-182">182</a></span>
<span class="normal"><a href="#__codelineno-5-183">183</a></span>
<span class="normal"><a href="#__codelineno-5-184">184</a></span>
<span class="normal"><a href="#__codelineno-5-185">185</a></span>
<span class="normal"><a href="#__codelineno-5-186">186</a></span>
<span class="normal"><a href="#__codelineno-5-187">187</a></span>
<span class="normal"><a href="#__codelineno-5-188">188</a></span>
<span class="normal"><a href="#__codelineno-5-189">189</a></span>
<span class="normal"><a href="#__codelineno-5-190">190</a></span>
<span class="normal"><a href="#__codelineno-5-191">191</a></span>
<span class="normal"><a href="#__codelineno-5-192">192</a></span>
<span class="normal"><a href="#__codelineno-5-193">193</a></span>
<span class="normal"><a href="#__codelineno-5-194">194</a></span>
<span class="normal"><a href="#__codelineno-5-195">195</a></span>
<span class="normal"><a href="#__codelineno-5-196">196</a></span>
<span class="normal"><a href="#__codelineno-5-197">197</a></span>
<span class="normal"><a href="#__codelineno-5-198">198</a></span>
<span class="normal"><a href="#__codelineno-5-199">199</a></span>
<span class="normal"><a href="#__codelineno-5-200">200</a></span>
<span class="normal"><a href="#__codelineno-5-201">201</a></span>
<span class="normal"><a href="#__codelineno-5-202">202</a></span>
<span class="normal"><a href="#__codelineno-5-203">203</a></span>
<span class="normal"><a href="#__codelineno-5-204">204</a></span>
<span class="normal"><a href="#__codelineno-5-205">205</a></span>
<span class="normal"><a href="#__codelineno-5-206">206</a></span>
<span class="normal"><a href="#__codelineno-5-207">207</a></span>
<span class="normal"><a href="#__codelineno-5-208">208</a></span>
<span class="normal"><a href="#__codelineno-5-209">209</a></span>
<span class="normal"><a href="#__codelineno-5-210">210</a></span>
<span class="normal"><a href="#__codelineno-5-211">211</a></span>
<span class="normal"><a href="#__codelineno-5-212">212</a></span>
<span class="normal"><a href="#__codelineno-5-213">213</a></span>
<span class="normal"><a href="#__codelineno-5-214">214</a></span>
<span class="normal"><a href="#__codelineno-5-215">215</a></span>
<span class="normal"><a href="#__codelineno-5-216">216</a></span>
<span class="normal"><a href="#__codelineno-5-217">217</a></span>
<span class="normal"><a href="#__codelineno-5-218">218</a></span>
<span class="normal"><a href="#__codelineno-5-219">219</a></span>
<span class="normal"><a href="#__codelineno-5-220">220</a></span>
<span class="normal"><a href="#__codelineno-5-221">221</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">io.quarkus.workshop.hero</span><span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.quarkus.test.junit.QuarkusTest</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.restassured.common.mapper.TypeRef</span><span class="p">;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.hamcrest.core.Is</span><span class="p">;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.MethodOrderer</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Order</span><span class="p">;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.TestMethodOrder</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Random</span><span class="p">;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.restassured.RestAssured.get</span><span class="p">;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.restassured.RestAssured.given</span><span class="p">;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.HttpHeaders.ACCEPT</span><span class="p">;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.HttpHeaders.CONTENT_TYPE</span><span class="p">;</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.MediaType.APPLICATION_JSON</span><span class="p">;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.Response.Status.BAD_REQUEST</span><span class="p">;</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.Response.Status.CREATED</span><span class="p">;</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.Response.Status.NOT_FOUND</span><span class="p">;</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.Response.Status.NO_CONTENT</span><span class="p">;</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">jakarta.ws.rs.core.Response.Status.OK</span><span class="p">;</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">org.hamcrest.Matchers.is</span><span class="p">;</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.assertNotNull</span><span class="p">;</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.assertTrue</span><span class="p">;</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="nd">@QuarkusTest</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="nd">@TestMethodOrder</span><span class="p">(</span><span class="n">MethodOrderer</span><span class="p">.</span><span class="na">OrderAnnotation</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="kd">class</span> <span class="nc">HeroResourceTest</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testHelloEndpoint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">                </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/api/heroes/hello&quot;</span><span class="p">)</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">is</span><span class="p">(</span><span class="s">&quot;Hello from Quarkus REST&quot;</span><span class="p">));</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="w">    </span><span class="c1">//&lt;docCrudTests&gt;</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;application/json;charset=UTF-8&quot;</span><span class="p">;</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">DEFAULT_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Super Baguette&quot;</span><span class="p">;</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">UPDATED_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Super Baguette (updated)&quot;</span><span class="p">;</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">DEFAULT_OTHER_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Super Baguette Tradition&quot;</span><span class="p">;</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">UPDATED_OTHER_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Super Baguette Tradition (updated)&quot;</span><span class="p">;</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">DEFAULT_PICTURE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;super_baguette.png&quot;</span><span class="p">;</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">UPDATED_PICTURE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;super_baguette_updated.png&quot;</span><span class="p">;</span>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">DEFAULT_POWERS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;eats baguette really quickly&quot;</span><span class="p">;</span>
<a id="__codelineno-5-53" name="__codelineno-5-53"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">UPDATED_POWERS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;eats baguette really quickly (updated)&quot;</span><span class="p">;</span>
<a id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">DEFAULT_LEVEL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<a id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">UPDATED_LEVEL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">43</span><span class="p">;</span>
<a id="__codelineno-5-56" name="__codelineno-5-56"></a>
<a id="__codelineno-5-57" name="__codelineno-5-57"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">NB_HEROES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">;</span>
<a id="__codelineno-5-58" name="__codelineno-5-58"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">heroId</span><span class="p">;</span>
<a id="__codelineno-5-59" name="__codelineno-5-59"></a>
<a id="__codelineno-5-60" name="__codelineno-5-60"></a>
<a id="__codelineno-5-61" name="__codelineno-5-61"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-62" name="__codelineno-5-62"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldNotGetUnknownHero</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-63" name="__codelineno-5-63"></a><span class="w">        </span><span class="n">Long</span><span class="w"> </span><span class="n">randomId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">().</span><span class="na">nextLong</span><span class="p">();</span>
<a id="__codelineno-5-64" name="__codelineno-5-64"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-65" name="__codelineno-5-65"></a><span class="w">                </span><span class="p">.</span><span class="na">pathParam</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">randomId</span><span class="p">)</span>
<a id="__codelineno-5-66" name="__codelineno-5-66"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-67" name="__codelineno-5-67"></a><span class="w">                </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/api/heroes/{id}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-68" name="__codelineno-5-68"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-69" name="__codelineno-5-69"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">NOT_FOUND</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">());</span>
<a id="__codelineno-5-70" name="__codelineno-5-70"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-71" name="__codelineno-5-71"></a>
<a id="__codelineno-5-72" name="__codelineno-5-72"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-73" name="__codelineno-5-73"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldGetRandomHero</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-74" name="__codelineno-5-74"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-75" name="__codelineno-5-75"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-76" name="__codelineno-5-76"></a><span class="w">                </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/api/heroes/random&quot;</span><span class="p">)</span>
<a id="__codelineno-5-77" name="__codelineno-5-77"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-78" name="__codelineno-5-78"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-79" name="__codelineno-5-79"></a><span class="w">                </span><span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">APPLICATION_JSON</span><span class="p">);</span>
<a id="__codelineno-5-80" name="__codelineno-5-80"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-81" name="__codelineno-5-81"></a>
<a id="__codelineno-5-82" name="__codelineno-5-82"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-83" name="__codelineno-5-83"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldNotAddInvalidItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-84" name="__codelineno-5-84"></a><span class="w">        </span><span class="n">Hero</span><span class="w"> </span><span class="n">hero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Hero</span><span class="p">();</span>
<a id="__codelineno-5-85" name="__codelineno-5-85"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-5-86" name="__codelineno-5-86"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">otherName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_OTHER_NAME</span><span class="p">;</span>
<a id="__codelineno-5-87" name="__codelineno-5-87"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">picture</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_PICTURE</span><span class="p">;</span>
<a id="__codelineno-5-88" name="__codelineno-5-88"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">powers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_POWERS</span><span class="p">;</span>
<a id="__codelineno-5-89" name="__codelineno-5-89"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-5-90" name="__codelineno-5-90"></a>
<a id="__codelineno-5-91" name="__codelineno-5-91"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-92" name="__codelineno-5-92"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">hero</span><span class="p">)</span>
<a id="__codelineno-5-93" name="__codelineno-5-93"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">CONTENT_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-94" name="__codelineno-5-94"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">ACCEPT</span><span class="p">,</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-95" name="__codelineno-5-95"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-96" name="__codelineno-5-96"></a><span class="w">                </span><span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">)</span>
<a id="__codelineno-5-97" name="__codelineno-5-97"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-98" name="__codelineno-5-98"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">BAD_REQUEST</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">());</span>
<a id="__codelineno-5-99" name="__codelineno-5-99"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-100" name="__codelineno-5-100"></a>
<a id="__codelineno-5-101" name="__codelineno-5-101"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-102" name="__codelineno-5-102"></a><span class="w">    </span><span class="nd">@Order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-5-103" name="__codelineno-5-103"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldGetInitialItems</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-104" name="__codelineno-5-104"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="n">heroes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">).</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-105" name="__codelineno-5-105"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-106" name="__codelineno-5-106"></a><span class="w">                </span><span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-107" name="__codelineno-5-107"></a><span class="w">                </span><span class="p">.</span><span class="na">extract</span><span class="p">()</span>
<a id="__codelineno-5-108" name="__codelineno-5-108"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">()</span>
<a id="__codelineno-5-109" name="__codelineno-5-109"></a><span class="w">                </span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="n">getHeroTypeRef</span><span class="p">());</span>
<a id="__codelineno-5-110" name="__codelineno-5-110"></a><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">NB_HEROES</span><span class="p">,</span><span class="w"> </span><span class="n">heroes</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<a id="__codelineno-5-111" name="__codelineno-5-111"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-112" name="__codelineno-5-112"></a>
<a id="__codelineno-5-113" name="__codelineno-5-113"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-114" name="__codelineno-5-114"></a><span class="w">    </span><span class="nd">@Order</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-5-115" name="__codelineno-5-115"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldAddAnItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-116" name="__codelineno-5-116"></a><span class="w">        </span><span class="n">Hero</span><span class="w"> </span><span class="n">hero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Hero</span><span class="p">();</span>
<a id="__codelineno-5-117" name="__codelineno-5-117"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_NAME</span><span class="p">;</span>
<a id="__codelineno-5-118" name="__codelineno-5-118"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">otherName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_OTHER_NAME</span><span class="p">;</span>
<a id="__codelineno-5-119" name="__codelineno-5-119"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">picture</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_PICTURE</span><span class="p">;</span>
<a id="__codelineno-5-120" name="__codelineno-5-120"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">powers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_POWERS</span><span class="p">;</span>
<a id="__codelineno-5-121" name="__codelineno-5-121"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_LEVEL</span><span class="p">;</span>
<a id="__codelineno-5-122" name="__codelineno-5-122"></a>
<a id="__codelineno-5-123" name="__codelineno-5-123"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-124" name="__codelineno-5-124"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">hero</span><span class="p">)</span>
<a id="__codelineno-5-125" name="__codelineno-5-125"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">CONTENT_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-126" name="__codelineno-5-126"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">ACCEPT</span><span class="p">,</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-127" name="__codelineno-5-127"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-128" name="__codelineno-5-128"></a><span class="w">                </span><span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">)</span>
<a id="__codelineno-5-129" name="__codelineno-5-129"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-130" name="__codelineno-5-130"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">CREATED</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-131" name="__codelineno-5-131"></a><span class="w">                </span><span class="p">.</span><span class="na">extract</span><span class="p">()</span>
<a id="__codelineno-5-132" name="__codelineno-5-132"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="s">&quot;Location&quot;</span><span class="p">);</span>
<a id="__codelineno-5-133" name="__codelineno-5-133"></a><span class="w">        </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">));</span>
<a id="__codelineno-5-134" name="__codelineno-5-134"></a>
<a id="__codelineno-5-135" name="__codelineno-5-135"></a><span class="w">        </span><span class="c1">// Stores the id</span>
<a id="__codelineno-5-136" name="__codelineno-5-136"></a><span class="w">        </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">segments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">);</span>
<a id="__codelineno-5-137" name="__codelineno-5-137"></a><span class="w">        </span><span class="n">heroId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">segments</span><span class="o">[</span><span class="n">segments</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">]</span><span class="p">;</span>
<a id="__codelineno-5-138" name="__codelineno-5-138"></a><span class="w">        </span><span class="n">assertNotNull</span><span class="p">(</span><span class="n">heroId</span><span class="p">);</span>
<a id="__codelineno-5-139" name="__codelineno-5-139"></a>
<a id="__codelineno-5-140" name="__codelineno-5-140"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-141" name="__codelineno-5-141"></a><span class="w">                </span><span class="p">.</span><span class="na">pathParam</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">heroId</span><span class="p">)</span>
<a id="__codelineno-5-142" name="__codelineno-5-142"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-143" name="__codelineno-5-143"></a><span class="w">                </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/api/heroes/{id}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-144" name="__codelineno-5-144"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-145" name="__codelineno-5-145"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-146" name="__codelineno-5-146"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">DEFAULT_NAME</span><span class="p">))</span>
<a id="__codelineno-5-147" name="__codelineno-5-147"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;otherName&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">DEFAULT_OTHER_NAME</span><span class="p">))</span>
<a id="__codelineno-5-148" name="__codelineno-5-148"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;level&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">DEFAULT_LEVEL</span><span class="p">))</span>
<a id="__codelineno-5-149" name="__codelineno-5-149"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;picture&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">DEFAULT_PICTURE</span><span class="p">))</span>
<a id="__codelineno-5-150" name="__codelineno-5-150"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;powers&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">DEFAULT_POWERS</span><span class="p">));</span>
<a id="__codelineno-5-151" name="__codelineno-5-151"></a>
<a id="__codelineno-5-152" name="__codelineno-5-152"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="n">heroes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">).</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-153" name="__codelineno-5-153"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-154" name="__codelineno-5-154"></a><span class="w">                </span><span class="p">.</span><span class="na">extract</span><span class="p">()</span>
<a id="__codelineno-5-155" name="__codelineno-5-155"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">()</span>
<a id="__codelineno-5-156" name="__codelineno-5-156"></a><span class="w">                </span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="n">getHeroTypeRef</span><span class="p">());</span>
<a id="__codelineno-5-157" name="__codelineno-5-157"></a><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">NB_HEROES</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">heroes</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<a id="__codelineno-5-158" name="__codelineno-5-158"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-159" name="__codelineno-5-159"></a>
<a id="__codelineno-5-160" name="__codelineno-5-160"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-161" name="__codelineno-5-161"></a><span class="w">    </span><span class="nd">@Order</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-5-162" name="__codelineno-5-162"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldUpdateAnItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-163" name="__codelineno-5-163"></a><span class="w">        </span><span class="n">Hero</span><span class="w"> </span><span class="n">hero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Hero</span><span class="p">();</span>
<a id="__codelineno-5-164" name="__codelineno-5-164"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Long</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">heroId</span><span class="p">);</span>
<a id="__codelineno-5-165" name="__codelineno-5-165"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UPDATED_NAME</span><span class="p">;</span>
<a id="__codelineno-5-166" name="__codelineno-5-166"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">otherName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UPDATED_OTHER_NAME</span><span class="p">;</span>
<a id="__codelineno-5-167" name="__codelineno-5-167"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">picture</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UPDATED_PICTURE</span><span class="p">;</span>
<a id="__codelineno-5-168" name="__codelineno-5-168"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">powers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UPDATED_POWERS</span><span class="p">;</span>
<a id="__codelineno-5-169" name="__codelineno-5-169"></a><span class="w">        </span><span class="n">hero</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UPDATED_LEVEL</span><span class="p">;</span>
<a id="__codelineno-5-170" name="__codelineno-5-170"></a>
<a id="__codelineno-5-171" name="__codelineno-5-171"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-172" name="__codelineno-5-172"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">hero</span><span class="p">)</span>
<a id="__codelineno-5-173" name="__codelineno-5-173"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">CONTENT_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-174" name="__codelineno-5-174"></a><span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">ACCEPT</span><span class="p">,</span><span class="w"> </span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-175" name="__codelineno-5-175"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-176" name="__codelineno-5-176"></a><span class="w">                </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">)</span>
<a id="__codelineno-5-177" name="__codelineno-5-177"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-178" name="__codelineno-5-178"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-179" name="__codelineno-5-179"></a><span class="w">                </span><span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-180" name="__codelineno-5-180"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">UPDATED_NAME</span><span class="p">))</span>
<a id="__codelineno-5-181" name="__codelineno-5-181"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;otherName&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">UPDATED_OTHER_NAME</span><span class="p">))</span>
<a id="__codelineno-5-182" name="__codelineno-5-182"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;level&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">UPDATED_LEVEL</span><span class="p">))</span>
<a id="__codelineno-5-183" name="__codelineno-5-183"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;picture&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">UPDATED_PICTURE</span><span class="p">))</span>
<a id="__codelineno-5-184" name="__codelineno-5-184"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;powers&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Is</span><span class="p">.</span><span class="na">is</span><span class="p">(</span><span class="n">UPDATED_POWERS</span><span class="p">));</span>
<a id="__codelineno-5-185" name="__codelineno-5-185"></a>
<a id="__codelineno-5-186" name="__codelineno-5-186"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="n">heroes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">).</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-187" name="__codelineno-5-187"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-188" name="__codelineno-5-188"></a><span class="w">                </span><span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-189" name="__codelineno-5-189"></a><span class="w">                </span><span class="p">.</span><span class="na">extract</span><span class="p">()</span>
<a id="__codelineno-5-190" name="__codelineno-5-190"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">()</span>
<a id="__codelineno-5-191" name="__codelineno-5-191"></a><span class="w">                </span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="n">getHeroTypeRef</span><span class="p">());</span>
<a id="__codelineno-5-192" name="__codelineno-5-192"></a><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">NB_HEROES</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">heroes</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<a id="__codelineno-5-193" name="__codelineno-5-193"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-194" name="__codelineno-5-194"></a>
<a id="__codelineno-5-195" name="__codelineno-5-195"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-5-196" name="__codelineno-5-196"></a><span class="w">    </span><span class="nd">@Order</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<a id="__codelineno-5-197" name="__codelineno-5-197"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldRemoveAnItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-198" name="__codelineno-5-198"></a><span class="w">        </span><span class="n">given</span><span class="p">()</span>
<a id="__codelineno-5-199" name="__codelineno-5-199"></a><span class="w">                </span><span class="p">.</span><span class="na">pathParam</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">heroId</span><span class="p">)</span>
<a id="__codelineno-5-200" name="__codelineno-5-200"></a><span class="w">                </span><span class="p">.</span><span class="na">when</span><span class="p">()</span>
<a id="__codelineno-5-201" name="__codelineno-5-201"></a><span class="w">                </span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="s">&quot;/api/heroes/{id}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-202" name="__codelineno-5-202"></a><span class="w">                </span><span class="p">.</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-203" name="__codelineno-5-203"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">NO_CONTENT</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">());</span>
<a id="__codelineno-5-204" name="__codelineno-5-204"></a>
<a id="__codelineno-5-205" name="__codelineno-5-205"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;</span><span class="w"> </span><span class="n">heroes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/api/heroes&quot;</span><span class="p">).</span><span class="na">then</span><span class="p">()</span>
<a id="__codelineno-5-206" name="__codelineno-5-206"></a><span class="w">                </span><span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">OK</span><span class="p">.</span><span class="na">getStatusCode</span><span class="p">())</span>
<a id="__codelineno-5-207" name="__codelineno-5-207"></a><span class="w">                </span><span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">APPLICATION_JSON</span><span class="p">)</span>
<a id="__codelineno-5-208" name="__codelineno-5-208"></a><span class="w">                </span><span class="p">.</span><span class="na">extract</span><span class="p">()</span>
<a id="__codelineno-5-209" name="__codelineno-5-209"></a><span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">()</span>
<a id="__codelineno-5-210" name="__codelineno-5-210"></a><span class="w">                </span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="n">getHeroTypeRef</span><span class="p">());</span>
<a id="__codelineno-5-211" name="__codelineno-5-211"></a><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">NB_HEROES</span><span class="p">,</span><span class="w"> </span><span class="n">heroes</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<a id="__codelineno-5-212" name="__codelineno-5-212"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-213" name="__codelineno-5-213"></a>
<a id="__codelineno-5-214" name="__codelineno-5-214"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">TypeRef</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">getHeroTypeRef</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-215" name="__codelineno-5-215"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TypeRef</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Hero</span><span class="o">&gt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-216" name="__codelineno-5-216"></a><span class="w">            </span><span class="c1">// Kept empty on purpose</span>
<a id="__codelineno-5-217" name="__codelineno-5-217"></a><span class="w">        </span><span class="p">};</span>
<a id="__codelineno-5-218" name="__codelineno-5-218"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-219" name="__codelineno-5-219"></a>
<a id="__codelineno-5-220" name="__codelineno-5-220"></a><span class="w">    </span><span class="c1">//&lt;/docCrudTests&gt;</span>
<a id="__codelineno-5-221" name="__codelineno-5-221"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>By using the <code>QuarkusTest</code> runner, the <code>HeroResourceTest</code> class instructs JUnit to start the application before the tests.
Then, the <code>testHelloEndpoint</code> method checks the HTTP response status code and content.</p>
<p>Notice that these tests use RestAssured, but feel free to use your favorite library.</p>
<p>Execute it with <code>./mvnw test</code> or from your IDE.</p>
<h3 id="continuous-testing">Continuous testing<a class="headerlink" href="#continuous-testing" title="Permanent link"></a></h3>
<p>Quarkus supports continuous testing, where tests run immediately after code changes have been saved. 
This allows you to get instant feedback on your code changes. </p>
<p>Quarkus detects which tests cover which code, and uses this information to only run the relevant tests when code is changed.
When you start Quarkus in dev mode, down the bottom of the screen you should see the following:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Tests<span class="w"> </span>paused,<span class="w"> </span>press<span class="w"> </span><span class="o">[</span>r<span class="o">]</span><span class="w"> </span>to<span class="w"> </span>resume,<span class="w"> </span><span class="o">[</span>h<span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>options&gt;
</code></pre></div>
Press r and the tests will start running. You should see the status change down the bottom of the screen as they are running, and it should finish with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>All<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>is<span class="w"> </span>passing<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>skipped<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>was<span class="w"> </span>run<span class="w"> </span><span class="k">in</span><span class="w"> </span>8053ms.<span class="w"> </span>Tests<span class="w"> </span>completed<span class="w"> </span>at<span class="w"> </span><span class="m">12</span>:11:25.
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>Press<span class="w"> </span><span class="o">[</span>e<span class="o">]</span><span class="w"> </span>to<span class="w"> </span>edit<span class="w"> </span><span class="nb">command</span><span class="w"> </span>line<span class="w"> </span>args<span class="w"> </span><span class="o">(</span>currently<span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>,<span class="w"> </span><span class="o">[</span>r<span class="o">]</span><span class="w"> </span>to<span class="w"> </span>re-run,<span class="w"> </span><span class="o">[</span>o<span class="o">]</span><span class="w"> </span>Toggle<span class="w"> </span><span class="nb">test</span><span class="w"> </span>output,<span class="w"> </span><span class="o">[</span>:<span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>terminal,<span class="w"> </span><span class="o">[</span>h<span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>options&gt;
</code></pre></div>
<h2 id="packaging-and-running-the-application">Packaging and Running the Application<a class="headerlink" href="#packaging-and-running-the-application" title="Permanent link"></a></h2>
<p>The application is packaged using <code>./mvnw package</code> or <code>quarkus build</code>.
It produces 2 jar files in <code>/target</code>:</p>
<ul>
<li><code>rest-hero-1.0-SNAPSHOT.jar</code>: containing just the classes and resources of the projects, it&rsquo;s the regular artifact produced by the Maven build;</li>
<li><code>quarkus-app/quarkus-run.jar</code>: being an executable jar.
  Be aware that it&rsquo;s not an über-jar as the dependencies are copied into the <code>target/quarkus-app/lib</code> directory.</li>
</ul>
<p>The application is now runnable from a terminal by running <code>java -jar target/quarkus-app/quarkus-run.jar</code>. </p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../requirements/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Software requirements">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Software requirements
              </div>
            </div>
          </a>
        
        
          
          <a href="../transactions-orm/" class="md-footer__link md-footer__link--next" aria-label="Next: Transactions and ORM">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Transactions and ORM
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Copyright and theme information, adapter to have the Red Hat footer -->
<div class="md-copyright">
    <div class="md-copyright__highlight">
        Sponsored by <a href="https://www.redhat.com"><img style="vertical-align: middle;" alt="Red Hat" src="../images/redhat_reversed.svg"/></a> <br/>
        <a href="https://creativecommons.org/licenses/by/3.0/">CC by 3.0</a> |
        <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </div>
    
    Made with
    <a
            href="https://squidfunk.github.io/mkdocs-material/"
            target="_blank" rel="noopener"
    >
        Material for MkDocs
    </a>
    
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "content.tabs.link", "content.code.annotate", "navigation.instant", "navigation.indexes", "navigation.tracking", "navigation.footer", "navigation.tabs.sticky", "content.code.select", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>